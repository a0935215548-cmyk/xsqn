<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é”€å”®æ½œèƒ½è¯„ä¼°æµ‹è¯•</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <style>
        /* åŸºç¡€æ ·å¼ */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 850px; margin: 30px auto; padding: 30px; background-color: #f8f9fa; color: #343a40; }
        h2 { text-align: center; color: #d9534f; margin-bottom: 25px; border-bottom: 3px solid #d9534f; padding-bottom: 10px; }
        .instruction { text-align: center; margin-bottom: 30px; font-size: 1.1em; color: #5cb85c; font-weight: bold; }
        
        /* é—®é¢˜ç»„æ ·å¼ */
        .question-group { margin-bottom: 25px; padding: 18px; border: 1px solid #ccc; border-radius: 10px; background-color: white; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        .question-text { font-weight: 600; margin-bottom: 15px; font-size: 1em; color: #292b2c; }
        
        /* é‡è¡¨æ ·å¼ */
        .likert-scale { display: flex; justify-content: space-between; align-items: center; }
        /* è°ƒæ•´é€‰é¡¹å®½åº¦ä»¥å®¹çº³æè¿°è¯­ */
        .likert-scale label { flex: 1; text-align: center; cursor: pointer; padding: 5px 0; border-radius: 4px; min-width: 15%; margin: 0 2px; }
        input[type="radio"] { display: none; }
        input[type="radio"] + span { display: block; padding: 10px 5px; border: 2px solid #ced4da; border-radius: 5px; transition: all 0.2s; font-size: 0.9em; }
        input[type="radio"]:checked + span { background-color: #d9534f; color: white; border-color: #d9534f; }
        
        /* æµ‹è°é¢˜/æ•ˆåº¦é¢˜çš„ç‰¹æ®Šæ ‡è®° */
        .validity-item { border-left: 5px solid #ffc107; }

        #submit-button { display: block; width: 100%; padding: 20px; margin-top: 40px; font-size: 1.3em; background-color: #5cb85c; color: white; border: none; border-radius: 8px; cursor: pointer; transition: background-color 0.2s; }
        #submit-button:hover { background-color: #449d44; }
        
        /* ç»“æœæ ·å¼ */
        #results { margin-top: 50px; padding: 35px; background-color: #f0ad4e1a; border-radius: 10px; display: none; border: 2px solid #f0ad4e; }
        h3 { color: #f0ad4e; border-bottom: 2px solid #f0ad4e; padding-bottom: 10px; margin-bottom: 20px; }
        .result-score { font-size: 2.5em; font-weight: bold; color: #d9534f; text-align: center; margin: 15px 0; }
        .analysis p { line-height: 1.8; margin-bottom: 15px; background-color: #ffffff; padding: 12px; border-left: 5px solid #d9534f; border-radius: 5px; }
        .radar-chart { width: 100%; height: 400px; margin: 20px auto; }

        .validity-warning { font-weight: bold; padding: 10px 0; border-top: 1px dashed #ffc107; margin-top: 15px; }
        .low-validity { color: #dc3545; }
        .high-validity { color: #5cb85c; }
        .potential-level { text-align: center; font-size: 1.8em; margin: 15px 0; padding: 10px; border: 2px solid #d9534f; border-radius: 5px; }

    </style>
</head>
<body>

    <h2>é”€å”®æ½œèƒ½è¯„ä¼°æµ‹è¯• (SPAT)</h2>
    <div class="instruction">
        è¯·æ ¹æ®æ‚¨é€šå¸¸çš„ååº”æ¥ä½œç­”ï¼š 1 = **å®Œå…¨ä¸ç¬¦åˆ** &nbsp;|&nbsp; 5 = **å®Œå…¨ç¬¦åˆ**
    </div>

    <form id="sales-quiz"></form>

    <button id="submit-button">å®Œæˆè¯„ä¼°å¹¶æŸ¥çœ‹é”€å”®æ½œèƒ½æŒ‡æ•°</button>

    <div id="results">
        <h3>é”€å”®æ½œèƒ½è¯„ä¼°ç»“æœ</h3>
        <div id="validity-feedback"></div> <p>æ‚¨çš„ç»¼åˆé”€å”®æ½œåŠ›æŒ‡æ•°ä¸º (æ»¡åˆ† 100 åˆ†)ï¼š</p>
        <div class="result-score"><span id="total-score">0</span> / 100</div>
        <div class="potential-level" id="potential-level-text"></div>


        <div class="analysis">
            <h4>å…³é”®ç»´åº¦èƒ½åŠ›åˆ†å¸ƒï¼š</h4>
            <div class="radar-chart">
                 <canvas id="salesRadarChart"></canvas>
            </div>
            
            <h4>å…³é”®ç»´åº¦åˆ†æï¼š</h4>
            <div id="analysis-text"></div>
            
            <h4>ğŸ¯ é”€å”®æ½œèƒ½å‘å±•å»ºè®®ï¼š</h4>
            <div id="development-advice" class="analysis"></div>
        </div>
        
    </div>

    <script>
        // --- 1. é”€å”®æ½œèƒ½é—®é¢˜æ•°æ®ç»“æ„ (27 é¢˜ï¼Œ25ä¸ªOCEAN + 2ä¸ªæ•ˆåº¦é¢˜) ---
        // P = Positive (æ­£å‘è®¡åˆ†), R = Reverse (åå‘è®¡åˆ†), V = Validity (æ•ˆåº¦é¢˜)
        // ç»´åº¦: C=å°½è´£æ€§, E=å¤–å‘æ€§, N=ç¥ç»è´¨(ä½åˆ†å¥½), A=å®œäººæ€§, O=å¼€æ”¾æ€§, V=æ•ˆåº¦
        const salesQuestions = [
            // å°½è´£æ€§ (C) - 5 é¢˜
            { id: 'q1', text: "åœ¨å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®å‰ï¼Œæˆ‘ä¼šèŠ±å¤§é‡æ—¶é—´æ•´ç†èµ„æ–™å’Œåˆ¶å®šè¯¦ç»†çš„æ­¥éª¤ã€‚", dimension: 'C', type: 'P' },
            { id: 'q2', text: "æˆ‘ç»å¸¸åœ¨æœ€åä¸€åˆ»æ‰å¼€å§‹å‡†å¤‡ä»»åŠ¡ã€‚", dimension: 'C', type: 'R' },
            { id: 'q3', text: "æˆ‘ä¼šå°†ç²¾åŠ›é›†ä¸­åœ¨å®Œæˆé¢„å®šçš„æ¯æ—¥ç›®æ ‡ä¸Šï¼Œè€Œä¸æ˜¯éšæ€§è€Œä¸ºã€‚", dimension: 'C', type: 'P' },
            { id: 'q4', text: "æˆ‘å–œæ¬¢ä¿æŒä¸€ä¸ªæ•´æ´æœ‰åºçš„å·¥ä½œç¯å¢ƒã€‚", dimension: 'C', type: 'P' },
            { id: 'q5', text: "æˆ‘å¾ˆéš¾åšæŒé•¿æœŸæ‰¿è¯ºï¼Œå®¹æ˜“åŠé€”è€ŒåºŸã€‚", dimension: 'C', type: 'R' },

            // å¤–å‘æ€§ (E) - 5 é¢˜
            { id: 'q6', text: "åœ¨èšä¼šä¸Šï¼Œæˆ‘æ€»æ˜¯ç¬¬ä¸€ä¸ªä¸»åŠ¨è®¤è¯†æ–°æœ‹å‹çš„äººã€‚", dimension: 'E', type: 'P' },
            { id: 'q7', text: "ç›¸æ¯”äºæ‰“ç”µè¯ï¼Œæˆ‘æ›´å€¾å‘äºå‘é‚®ä»¶æ¥å¤„ç†å¤æ‚çš„äº‹åŠ¡ã€‚", dimension: 'E', type: 'R' },
            { id: 'q8', text: "æˆ‘å–œæ¬¢åœ¨å›¢é˜Ÿä¸­æˆä¸ºæ„è§çš„å‘è¡¨è€…å’Œç„¦ç‚¹ã€‚", dimension: 'E', type: 'P' },
            { id: 'q9', text: "æˆ‘ç»å¸¸å‘ç°è‡ªå·±ç‹¬è‡ªä¸€äººæ—¶æ¯”å’Œå¾ˆå¤šäººåœ¨ä¸€èµ·æ—¶æ›´æœ‰æ´»åŠ›ã€‚", dimension: 'E', type: 'R' },
            { id: 'q10', text: "æˆ‘ä¹äºå‘ä»–äººå±•ç¤ºå¹¶è®²è¿°æˆ‘çš„æƒ³æ³•å’Œè§‚ç‚¹ã€‚", dimension: 'E', type: 'P' },

            // ç¥ç»è´¨ (N) - 5 é¢˜ (ä½ N = ç¨³å®š = é«˜æ½œåŠ›)
            { id: 'q11', text: "å½“äº‹æƒ…æ²¡æœ‰æŒ‰è®¡åˆ’è¿›è¡Œæ—¶ï¼Œæˆ‘é€šå¸¸èƒ½å¾ˆå¿«å¹³é™ä¸‹æ¥ã€‚", dimension: 'N', type: 'R' }, // ä½ N ç‰¹è´¨
            { id: 'q12', text: "æˆ‘å¸¸å¸¸å› ä¸ºæ‹…å¿ƒæœªæ¥æˆ–å°å¤±è¯¯è€Œæ„Ÿåˆ°ç´§å¼ ä¸å®‰ã€‚", dimension: 'N', type: 'P' }, // é«˜ N ç‰¹è´¨
            { id: 'q13', text: "åœ¨å‹åŠ›å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œæˆ‘çš„æ€è€ƒä¾ç„¶æ¸…æ™°ã€ä¸å—å¹²æ‰°ã€‚", dimension: 'N', type: 'R' },
            { id: 'q14', text: "æˆ‘å¯¹åˆ«äººçš„æ‰¹è¯„æˆ–æ‹’ç»éå¸¸æ•æ„Ÿï¼Œä¼šé•¿æ—¶é—´æ„Ÿåˆ°æ²®ä¸§ã€‚", dimension: 'N', type: 'P' },
            { id: 'q15', text: "æˆ‘å¾ˆå®¹æ˜“ä»ä¸€æ¬¡æŒ«æŠ˜ä¸­æ¢å¤è¿‡æ¥ï¼Œå°†å…¶è§†ä¸ºç»éªŒã€‚", dimension: 'N', type: 'R' },

            // å®œäººæ€§ (A) - 5 é¢˜
            { id: 'q16', text: "æˆ‘æ“…é•¿ä»åˆ«äººçš„è§’åº¦çœ‹å¾…é—®é¢˜ï¼Œç†è§£ä»–ä»¬çš„æ„Ÿå—ã€‚", dimension: 'A', type: 'P' },
            { id: 'q17', text: "æˆ‘å–œæ¬¢åœ¨è®¨è®ºä¸­æ¸…æ¥šåœ°è¡¨æ˜æˆ‘çš„åå¯¹æ„è§ã€‚", dimension: 'A', type: 'R' },
            { id: 'q18', text: "å½“æœ‰äººéœ€è¦å¸®åŠ©æ—¶ï¼Œæˆ‘é€šå¸¸ä¼šæ”¾ä¸‹è‡ªå·±çš„äº‹æƒ…å»å¸®å¿™ã€‚", dimension: 'A', type: 'P' },
            { id: 'q19', text: "æˆ‘å‘ç°è‡ªå·±å¾ˆéš¾å¯¹åˆ«äººè¯´â€œä¸â€ï¼Œå³ä½¿è¿™ä¼šè®©æˆ‘æ„Ÿåˆ°ä¸ä¾¿ã€‚", dimension: 'A', type: 'P' }, // å®œäººæ€§è¿‡é«˜å¯èƒ½å½±å“è°ˆåˆ¤
            { id: 'q20', text: "æˆ‘é€šå¸¸ç›¸ä¿¡é™Œç”Ÿäººï¼Œå¹¶è®¤ä¸ºä»–ä»¬æ˜¯å–„æ„çš„ã€‚", dimension: 'A', type: 'P' },

            // å¼€æ”¾æ€§ (O) - 5 é¢˜
            { id: 'q21', text: "æˆ‘çƒ­è¡·äºæ¢ç´¢å’Œå°è¯•ä¸æˆ‘ä¸“ä¸šé¢†åŸŸå®Œå…¨ä¸ç›¸å…³çš„çŸ¥è¯†ã€‚", dimension: 'O', type: 'P' },
            { id: 'q22', text: "é¢å¯¹çªå‘çš„æ–°è¦æ±‚ï¼Œæˆ‘èƒ½è¿…é€Ÿè°ƒæ•´æ–¹æ³•å’Œæ€è·¯ã€‚", dimension: 'O', type: 'P' },
            { id: 'q23', text: "æˆ‘å€¾å‘äºåšæŒä½¿ç”¨ä¸€å¥—å›ºå®šçš„ã€è¢«è¯æ˜æœ‰æ•ˆçš„åšäº‹æ–¹å¼ã€‚", dimension: 'O', type: 'R' },
            { id: 'q24', text: "æˆ‘å¾ˆå°‘èŠ±æ—¶é—´å»æ€è€ƒé‚£äº›æŠ½è±¡çš„ã€éå®é™…æ€§çš„æ¦‚å¿µã€‚", dimension: 'O', type: 'R' },
            { id: 'q25', text: "æˆ‘å–œæ¬¢æ¥è§¦å¹¶é‡‡çº³æ¥è‡ªä¸åŒæ–‡åŒ–å’ŒèƒŒæ™¯çš„è§‚ç‚¹ã€‚", dimension: 'O', type: 'P' },
            
            // æ•ˆåº¦é¢˜ (V) - 2 é¢˜ (æµ‹è°é¢˜)
            { id: 'v1', text: "æˆ‘ä»æœªå¯¹ä»»ä½•äººäº§ç”Ÿè¿‡ä»»ä½•æ¶æ„çš„æƒ³æ³•æˆ–å¦’å¿Œã€‚", dimension: 'V', type: 'R' }, 
            { id: 'v2', text: "æˆ‘æ€»æ˜¯åœ¨ä»»ä½•äº‹æƒ…ä¸Šéƒ½æ„Ÿåˆ°æåº¦çš„ä¸å¿«ä¹å’Œç—›è‹¦ã€‚", dimension: 'V', type: 'P' }, 
        ];

        // --- 2. åˆå§‹åŒ–å’Œ DOM å…ƒç´  ---
        let scores = { C: 0, E: 0, N: 0, A: 0, O: 0, V: 0 }; 
        const dimCounts = { C: 0, E: 0, N: 0, A: 0, O: 0, V: 0 };
        
        const form = document.getElementById('sales-quiz');
        const submitButton = document.getElementById('submit-button');
        const resultsDiv = document.getElementById('results');
        const totalScoreSpan = document.getElementById('total-score');
        const analysisText = document.getElementById('analysis-text');
        const validityFeedbackDiv = document.getElementById('validity-feedback');
        const potentialLevelText = document.getElementById('potential-level-text');
        const developmentAdviceDiv = document.getElementById('development-advice');

        let radarChartInstance = null; 

        // é€‰é¡¹æè¿°è¯­
        const likertDescriptions = [
            { value: 1, text: "å®Œå…¨ä¸ç¬¦åˆ" },
            { value: 2, text: "ä¸å¤ªç¬¦åˆ" },
            { value: 3, text: "ä¸­ç«‹/ä¸ç¡®å®š" },
            { value: 4, text: "æ¯”è¾ƒç¬¦åˆ" },
            { value: 5, text: "å®Œå…¨ç¬¦åˆ" }
        ];

        // --- 3. åŠ¨æ€æ¸²æŸ“é—®é¢˜ (ä½¿ç”¨æè¿°è¯­) ---
        function renderQuestions() {
            form.innerHTML = '';
            salesQuestions.forEach((q, index) => {
                if (!dimCounts[q.dimension]) dimCounts[q.dimension] = 0;
                dimCounts[q.dimension]++;

                const qGroup = document.createElement('div');
                qGroup.className = 'question-group' + (q.dimension === 'V' ? ' validity-item' : '');
                qGroup.innerHTML = `<div class="question-text">${index + 1}. ${q.text}</div>`;

                const scaleDiv = document.createElement('div');
                scaleDiv.className = 'likert-scale';

                likertDescriptions.forEach(option => {
                    const inputId = `${q.id}-${option.value}`;
                    scaleDiv.innerHTML += `
                        <label for="${inputId}">
                            <input type="radio" id="${inputId}" name="${q.id}" value="${option.value}" 
                                data-dimension="${q.dimension}" data-type="${q.type}">
                            <span>${option.value} (${option.text})</span>
                        </label>
                    `;
                });
                
                qGroup.appendChild(scaleDiv);
                form.appendChild(qGroup);
            });
        }

        // --- 4. è®¡åˆ†å’Œæ½œåŠ›æŒ‡æ•°è®¡ç®— (ä¸åŸä»£ç ç›¸åŒ) ---
        function calculateScore() {
            scores = { C: 0, E: 0, N: 0, A: 0, O: 0, V: 0 };
            
            const allRadios = form.querySelectorAll('input[type="radio"]:checked');

            if (allRadios.length !== salesQuestions.length) {
                alert("è¯·å›ç­”æ‰€æœ‰é—®é¢˜åï¼Œå†æäº¤è¯„ä¼°ï¼");
                return false;
            }

            allRadios.forEach(radio => {
                const rawValue = parseInt(radio.value); 
                const dimension = radio.dataset.dimension;
                const type = radio.dataset.type;

                let scoreValue = rawValue;

                if (type === 'R') {
                    scoreValue = 6 - rawValue; 
                }

                if (dimension === 'N') {
                    scores[dimension] += (6 - scoreValue); 
                } else if (dimension === 'V') {
                    scores[dimension] += scoreValue; 
                }
                else {
                    scores[dimension] += scoreValue;
                }
            });

            return true;
        }

        // --- 5. ç»“æœå±•ç¤º ---
        function displayResults() {
            if (!calculateScore()) return;

            resultsDiv.style.display = 'block';
            analysisText.innerHTML = '';
            developmentAdviceDiv.innerHTML = '';
            validityFeedbackDiv.innerHTML = ''; 
            
            resultsDiv.scrollIntoView({ behavior: 'smooth' });

            const maxScorePerDim = 5 * 5; 
            const maxTotalScore = maxScorePerDim * 5; 
            let totalRawScore = 0;
            let fullAnalysis = [];
            
            const dimNames = { C: 'å°½è´£æ€§/é©±åŠ¨åŠ›', E: 'å¤–å‘æ€§/ç¤¾äº¤', N: 'æŠ—å‹èƒ½åŠ›/ç¨³å®šåº¦', A: 'å®œäººæ€§/äººé™…ç†è§£', O: 'å¼€æ”¾æ€§/é€‚åº”åŠ›' };
            
            const radarChartData = {
                labels: [],
                percentages: []
            };

            // å¾ªç¯ç”Ÿæˆåˆ†ææ–‡æœ¬ï¼Œå¹¶è®¡ç®—æ€»å¾—åˆ†
            for (const dim in scores) {
                if (dim === 'V') continue;

                const dimScore = scores[dim];
                totalRawScore += dimScore;

                const percentage = Math.round((dimScore / maxScorePerDim) * 100);
                const { name, advice } = generateAnalysisText(dim, percentage);
                
                fullAnalysis.push(`<p><strong>${name} (${percentage}%)ï¼š</strong>${advice}</p>`);
                
                radarChartData.labels.push(dimNames[dim]);
                radarChartData.percentages.push(percentage);
            }
            
            // è®¡ç®—æœ€ç»ˆæ½œèƒ½æŒ‡æ•° (æ ‡å‡†åŒ–åˆ° 100 åˆ†)
            const salesPotentialIndex = Math.round((totalRawScore / maxTotalScore) * 100);
            
            totalScoreSpan.textContent = salesPotentialIndex;
            analysisText.innerHTML = fullAnalysis.join('');
            
            // ç»“æœèµ‹äºˆå«ä¹‰
            interpretTotalScore(salesPotentialIndex);
            interpretValidityScore(scores.V); 
            // ç»™å‡ºæ€»çš„é”€å”®æ½œèƒ½å»ºè®®
            generateSalesAdvice(scores, maxScorePerDim);

            // ç»˜åˆ¶é›·è¾¾å›¾
            drawRadarChart(radarChartData);
        }
        
        // --- 6. è¾…åŠ©å‡½æ•°ï¼ˆé”€å”®æ½œèƒ½ä¸“ä¸šåˆ†æï¼‰ (ä¸åŸä»£ç ç›¸åŒ) ---
        function generateAnalysisText(dimCode, percentage) {
             let name = '';
            let advice = '';
            const isHigh = percentage >= 70;
            const isLow = percentage <= 30;

            switch (dimCode) {
                case 'C': 
                    name = 'å°½è´£æ€§/é©±åŠ¨åŠ›';
                    if (isHigh) advice = "**é«˜æ½œåŠ›**ï¼šæ‚¨å…·å¤‡ä¼˜ç§€çš„è§„åˆ’å’Œæ‰§è¡ŒåŠ›ï¼Œèƒ½å¤ŸæŒä¹‹ä»¥æ’åœ°è·Ÿè¿›å¤æ‚çš„é”€å”®æµç¨‹ï¼Œæ˜¯å®ç°ä¸šç»©ç›®æ ‡çš„å¯é ä¿éšœã€‚";
                    else if (isLow) advice = "**éœ€åŠ å¼º**ï¼šæ‚¨å¯èƒ½ç¼ºä¹ç»“æ„åŒ–çš„å·¥ä½œä¹ æƒ¯ï¼Œéœ€è¦é€šè¿‡å¤–éƒ¨å·¥å…·æˆ–æµç¨‹æ¥å¢å¼ºè‡ªå¾‹æ€§ï¼Œé¿å…é”™å¤±é”€å”®æœºä¼šã€‚";
                    else advice = "**ä¸­ç­‰**ï¼šæ‚¨çš„ç›®æ ‡æ„Ÿè¾ƒå¼ºï¼Œä½†åœ¨é¢å¯¹é•¿æœŸæˆ–å¤æ‚çš„é”€å”®é¡¹ç›®æ—¶ï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„æé†’å’Œç›‘ç£ã€‚";
                    break;
                case 'E': 
                    name = 'å¤–å‘æ€§/ç¤¾äº¤èƒ½åŠ›';
                    if (isHigh) advice = "**é«˜æ½œåŠ›**ï¼šæ‚¨ç§¯æä¸»åŠ¨ã€ç²¾åŠ›å……æ²›ï¼Œçƒ­è¡·äºç¤¾äº¤å’Œäººé™…äº’åŠ¨ï¼Œèƒ½å¤Ÿè¿…é€Ÿå»ºç«‹å¹¶æ‰©å¤§å®¢æˆ·å…³ç³»ç½‘ã€‚";
                    else if (isLow) advice = "**éœ€åŠ å¼º**ï¼šæ‚¨å¯èƒ½åçˆ±ç‹¬ç«‹å·¥ä½œï¼Œéœ€å…‹æœä¸»åŠ¨ç¤¾äº¤éšœç¢ï¼Œå¤šå‚ä¸å¤–éƒ¨æ´»åŠ¨ï¼Œä»¥æå‡å®¢æˆ·çš„å¼€å‘æ•ˆç‡ã€‚";
                    else advice = "**ä¸­ç­‰**ï¼šæ‚¨èƒ½é€‚åº”ç¤¾äº¤ç¯å¢ƒï¼Œä½†åœ¨éœ€è¦é•¿æ—¶é—´æˆ–é«˜å¼ºåº¦ç¤¾äº¤æŠ•å…¥çš„å²—ä½ä¸Šï¼Œå¯èƒ½æ„Ÿåˆ°ç–²åŠ³ã€‚";
                    break;
                case 'N': 
                    name = 'æŠ—å‹èƒ½åŠ›/æƒ…ç»ªç¨³å®šåº¦';
                    if (isHigh) advice = "**é«˜æ½œåŠ›**ï¼šæ‚¨çš„æƒ…ç»ªç¨³å®šåº¦æé«˜ï¼Œèƒ½å¤Ÿä»å®¹åº”å¯¹å®¢æˆ·çš„æ‹’ç»å’Œä¸šç»©å‹åŠ›ï¼Œæ˜¯é•¿æœŸä»äº‹é”€å”®å·¥ä½œçš„å…³é”®ä¼˜åŠ¿ã€‚";
                    else if (isLow) advice = "**éœ€å…³æ³¨**ï¼šæ‚¨å¯¹å‹åŠ›æ¯”è¾ƒæ•æ„Ÿï¼Œå®¹æ˜“æ„Ÿåˆ°ç„¦è™‘ã€‚éœ€è¦å»ºç«‹å¥åº·çš„å¿ƒç†é˜²çº¿ï¼Œä»¥é˜²è´Ÿé¢æƒ…ç»ªå½±å“å·¥ä½œè¡¨ç°ã€‚";
                    else advice = "**ä¸­ç­‰**ï¼šæ‚¨å…·å¤‡ä¸€å®šçš„æŠ—å‹èƒ½åŠ›ï¼Œä½†åœ¨é­é‡é‡å¤§æŒ«æŠ˜æ—¶ï¼Œéœ€è¦æ—¶é—´æ¥è°ƒæ•´å¿ƒæ€ã€‚";
                    break;
                case 'A': 
                    name = 'å®œäººæ€§/å®¢æˆ·ç†è§£åŠ›';
                    if (percentage >= 80) advice = "**éœ€å¹³è¡¡**ï¼šæ‚¨çš„å®œäººæ€§æé«˜ï¼Œè™½ç„¶èƒ½è¿…é€Ÿè·å¾—å®¢æˆ·ä¿¡ä»»ï¼Œä½†å¯èƒ½åœ¨å…³é”®è°ˆåˆ¤ä¸­è¿‡äºå¦¥åï¼Œå½±å“åˆ©æ¶¦ç©ºé—´ã€‚";
                    else if (percentage >= 50) advice = "**ç†æƒ³èŒƒå›´**ï¼šæ‚¨å–„äºå€¾å¬å’Œç†è§£å®¢æˆ·éœ€æ±‚ï¼Œèƒ½å¤Ÿå»ºç«‹é•¿æœŸçš„åˆä½œå…³ç³»ï¼ŒåŒæ—¶ä¿æŒé€‚å½“çš„ä¸“ä¸šç•Œé™ã€‚";
                    else advice = "**éœ€åŠ å¼º**ï¼šæ‚¨çš„ç«äº‰æ€§è¾ƒå¼ºï¼Œè™½ç„¶æ“…é•¿è°ˆåˆ¤ï¼Œä½†å¯èƒ½å› ç¼ºä¹åŒç†å¿ƒè€Œéš¾ä»¥å»ºç«‹å®¢æˆ·çš„æ·±åº¦ä¿¡ä»»ã€‚";
                    break;
                case 'O': 
                    name = 'å¼€æ”¾æ€§/é€‚åº”èƒ½åŠ›';
                    if (isHigh) advice = "**é«˜æ½œåŠ›**ï¼šæ‚¨æ€ç»´çµæ´»ï¼Œä¹äºæ¥å—æ–°çŸ¥å’Œæ–°é”€å”®æ¨¡å¼ï¼Œèƒ½å¤Ÿå¿«é€Ÿé€‚åº”ä¸æ–­å˜åŒ–çš„å¸‚åœºå’Œäº§å“çº¿ã€‚";
                    else if (isLow) advice = "**éœ€å…³æ³¨**ï¼šæ‚¨å¯èƒ½åçˆ±ä¼ ç»Ÿå’Œå›ºå®šçš„é”€å”®æµç¨‹ï¼Œé¢å¯¹åˆ›æ–°äº§å“æˆ–é¢ è¦†æ€§å¸‚åœºå˜åŒ–æ—¶ï¼Œé€‚åº”é€Ÿåº¦å¯èƒ½è¾ƒæ…¢ã€‚";
                    else advice = "**ä¸­ç­‰**ï¼šæ‚¨å¯¹æ–°æ–¹æ³•æŒå¼€æ”¾æ€åº¦ï¼Œä½†å€¾å‘äºåœ¨éªŒè¯æœ‰æ•ˆæ€§åæ‰é‡‡çº³ã€‚";
                    break;
            }

            return { name, advice };
        }

        // **æ–°å¢ï¼šæ€»åˆ†å«ä¹‰**
        function interpretTotalScore(index) {
            let levelText = '';
            let color = '';

            if (index >= 75) {
                levelText = "â˜…â˜…â˜…â˜…â˜… æé«˜é”€å”®æ½œèƒ½";
                color = "#449d44";
            } else if (index >= 60) {
                levelText = "â˜…â˜…â˜…â˜…â˜† é«˜é”€å”®æ½œèƒ½";
                color = "#5cb85c";
            } else if (index >= 45) {
                levelText = "â˜…â˜…â˜…â˜†â˜† ä¸­ç­‰é”€å”®æ½œèƒ½";
                color = "#f0ad4e";
            } else {
                levelText = "â˜…â˜…â˜†â˜†â˜† è¾ƒä½é”€å”®æ½œèƒ½";
                color = "#dc3545";
            }

            potentialLevelText.textContent = levelText;
            potentialLevelText.style.borderColor = color;
            potentialLevelText.style.color = color;
        }


        // **æ–°å¢ï¼šæµ‹è°åˆ†/æ•ˆåº¦åˆ†è§£é‡Š**
        function interpretValidityScore(score) {
            let feedback = '';
            const MAX_VALIDITY_SCORE = 10; 
            
            if (score >= 9) { 
                feedback = `
                    <div class="validity-warning low-validity">
                        <strong>âš ï¸ æ•ˆåº¦è­¦å‘Šï¼š</strong>æ‚¨çš„æ•ˆåº¦å¾—åˆ†è¾ƒé«˜ (å¾—åˆ† ${score}/${MAX_VALIDITY_SCORE} åˆ†)ï¼Œç»“æœå¯èƒ½å­˜åœ¨**è¿‡åº¦ç¾åŒ–æˆ–å¤¸å¤§**ã€‚è¯·å¯¹ç»“æœæŒä¿ç•™æ€åº¦ã€‚
                    </div>
                `;
            } else if (score <= 2) { 
                 feedback = `
                    <div class="validity-warning low-validity">
                        <strong>âš ï¸ æ•ˆåº¦è­¦å‘Šï¼š</strong>æ‚¨çš„æ•ˆåº¦å¾—åˆ†æä½ (å¾—åˆ† ${score}/${MAX_VALIDITY_SCORE} åˆ†)ï¼Œå¯èƒ½æç¤º**éšæœºä½œç­”**æˆ–**è¿‡åº¦è´¬ä½**è‡ªæˆ‘ï¼Œè¯·è°¨æ…ä½¿ç”¨æ­¤è¯„ä¼°ç»“æœã€‚
                    </div>
                `;
            } else {
                feedback = `
                    <div class="validity-warning high-validity">
                        <strong>âœ… æµ‹è¯•ç»“æœæœ‰æ•ˆï¼š</strong>æ‚¨çš„å›ç­”å®¢è§‚ï¼Œè¯„ä¼°ç»“æœå…·æœ‰è¾ƒé«˜çš„å‚è€ƒä»·å€¼ã€‚
                    </div>
                `;
            }
            validityFeedbackDiv.innerHTML = feedback;
        }

        // **æ–°å¢ï¼šç»¼åˆé”€å”®æ½œèƒ½å‘å±•å»ºè®®**
        function generateSalesAdvice(scores, maxScorePerDim) {
            let adviceHtml = '<ul>';
            const dimCodes = ['C', 'E', 'N', 'A', 'O'];

            dimCodes.forEach(dim => {
                const percentage = Math.round((scores[dim] / maxScorePerDim) * 100);
                const { name } = generateAnalysisText(dim, percentage);

                if (percentage <= 40) { // ä½äºä¸­ç­‰æ°´å¹³ï¼Œéœ€è¦é’ˆå¯¹æ€§æå‡
                    adviceHtml += `<li><strong>æå‡${name} (å¾—åˆ† ${percentage}%)ï¼š</strong>å»ºè®®é‡‡å–çš„å…·ä½“è¡ŒåŠ¨ï¼Œä»¥å¼¥è¡¥å½“å‰ç»´åº¦çš„ä¸è¶³ã€‚</li>`;
                } else if (percentage >= 80 && dim === 'A') {
                    // ç‰¹åˆ«é’ˆå¯¹å®œäººæ€§è¿‡é«˜ (å¯èƒ½è¿‡äºå¦¥å) çš„é£é™©
                    adviceHtml += `<li><strong>å¹³è¡¡${name} (å¾—åˆ† ${percentage}%)ï¼š</strong>æ³¨æ„åœ¨è°ˆåˆ¤ä¸­ä¿æŒä¸“ä¸šåšå®šæ€§ï¼Œé¿å…å› åŒç†å¿ƒè¿‡é‡è€Œç‰ºç‰²å…¬å¸åˆ©ç›Šã€‚</li>`;
                }
            });

            if (adviceHtml === '<ul>') {
                adviceHtml += '<li>æ­å–œï¼Œæ‚¨åœ¨æ‰€æœ‰å…³é”®æ½œèƒ½ç»´åº¦ä¸Šè¡¨ç°å‡è¡¡æˆ–ä¼˜ç§€ï¼Œè¯·ç»§ç»­ä¿æŒä¼˜åŠ¿ã€‚</li>';
            }
            
            adviceHtml += '</ul>';
            developmentAdviceDiv.innerHTML = adviceHtml;
        }

        // --- 7. ç»˜åˆ¶é›·è¾¾å›¾å‡½æ•° (ä¸åŸä»£ç ç›¸åŒ) ---
        function drawRadarChart(data) {
            const ctx = document.getElementById('salesRadarChart').getContext('2d');
            
            if (radarChartInstance) {
                radarChartInstance.destroy();
            }
            // ç»˜åˆ¶é›·è¾¾å›¾ 
            radarChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: data.labels,
                    datasets: [{
                        label: 'æ‚¨çš„æ½œèƒ½åˆ†å¸ƒ',
                        data: data.percentages,
                        backgroundColor: 'rgba(217, 83, 79, 0.4)', 
                        borderColor: 'rgba(217, 83, 79, 1)',
                        pointBackgroundColor: 'rgba(217, 83, 79, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(217, 83, 79, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { display: true, color: '#e9ecef' },
                            grid: { color: '#e9ecef' },
                            pointLabels: { font: { size: 14, weight: 'bold' }, color: '#343a40' },
                            suggestedMin: 0,
                            suggestedMax: 100, 
                            ticks: { stepSize: 20, backdropColor: '#f8f9fa' }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        title: { display: true, text: 'äº”å¤§å…³é”®é”€å”®èƒœä»»åŠ›åˆ†å¸ƒå›¾', font: { size: 16 } }
                    }
                }
            });
        }

        // --- 8. ç»‘å®šäº‹ä»¶å’Œå¯åŠ¨ ---
        submitButton.addEventListener('click', displayResults);
        renderQuestions();
    </script>
</body>
</html>